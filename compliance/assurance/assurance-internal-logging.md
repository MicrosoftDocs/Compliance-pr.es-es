---
title: Registro interno de Microsoft 365 para ingeniería de Microsoft 365
description: En este artículo, busque una explicación de cómo funciona el registro interno para microsoft 365 Engineering teams.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 110a61c27a00380eede4d4f2303acfb025a27a1f
ms.sourcegitcommit: 024137a15ab23d26cac5ec14c36f3577fd8a0cc4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/01/2021
ms.locfileid: "51497074"
---
# <a name="internal-logging-for-microsoft-365-engineering"></a><span data-ttu-id="9f0e9-103">Registro interno para la ingeniería de Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="9f0e9-103">Internal logging for Microsoft 365 engineering</span></span>

<span data-ttu-id="9f0e9-104">Además de los eventos y los datos de registro disponibles para los clientes, también hay un sistema interno de recopilación de datos de registro que está disponible para los ingenieros de Microsoft 365 en Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-104">In addition to the events and log data available for customers, there is also an internal log data collection system that is available to Microsoft 365 engineers at Microsoft.</span></span> <span data-ttu-id="9f0e9-105">Muchos tipos diferentes de datos de registro se cargan desde servidores de Microsoft 365 a un servicio informático interno de big data denominado Cosmos.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-105">Many different types of log data are uploaded from Microsoft 365 servers to an internal, big data computing service called Cosmos.</span></span> <span data-ttu-id="9f0e9-106">Cada equipo de servicio carga los registros de auditoría de sus respectivos servidores en la base de datos de Cosmos para su agregación y análisis.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-106">Each service team uploads audit logs from their respective servers into the Cosmos database for aggregation and analysis.</span></span> <span data-ttu-id="9f0e9-107">Esta transferencia de datos se produce a través de una conexión TLS validada por FIPS 140-2 en puertos y protocolos aprobados específicamente mediante una herramienta de automatización propietaria denominada Office Data Loader (ODL).</span><span class="sxs-lookup"><span data-stu-id="9f0e9-107">This data transfer occurs over a FIPS 140-2-validated TLS connection on specifically approved ports and protocols using a proprietary automation tool called the Office Data Loader (ODL).</span></span> <span data-ttu-id="9f0e9-108">Las herramientas usadas en Microsoft 365 para recopilar y procesar registros de auditoría no permiten cambios permanentes o irreversibles en el contenido del registro de auditoría original ni en el orden de tiempo.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-108">The tools used in Microsoft 365 to collect and process audit records do not allow permanent or irreversible changes to the original audit record content or time ordering.</span></span>

<span data-ttu-id="9f0e9-109">Los equipos de servicio usan Cosmos como repositorio centralizado para realizar un análisis del uso de aplicaciones, medir el rendimiento operativo y del sistema y buscar anomalías y patrones que puedan indicar problemas o problemas de seguridad.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-109">Service teams use Cosmos as a centralized repository to conduct an analysis of application usage, to measure system and operational performance, and to look for abnormalities and patterns that may indicate problems or security issues.</span></span> <span data-ttu-id="9f0e9-110">Cada equipo de servicio carga una línea base de registros en Cosmos, en función de lo que estén buscando analizar, que a menudo incluyen:</span><span class="sxs-lookup"><span data-stu-id="9f0e9-110">Each service team uploads a baseline of logs into Cosmos, depending on what they are looking to analyze, that often include:</span></span>

- <span data-ttu-id="9f0e9-111">Registros de eventos</span><span class="sxs-lookup"><span data-stu-id="9f0e9-111">Event logs</span></span>
- <span data-ttu-id="9f0e9-112">Registros de AppLocker</span><span class="sxs-lookup"><span data-stu-id="9f0e9-112">AppLocker logs</span></span>
- <span data-ttu-id="9f0e9-113">Datos de rendimiento</span><span class="sxs-lookup"><span data-stu-id="9f0e9-113">Performance data</span></span>
- <span data-ttu-id="9f0e9-114">Datos de System Center</span><span class="sxs-lookup"><span data-stu-id="9f0e9-114">System Center data</span></span>
- <span data-ttu-id="9f0e9-115">Registros de detalles de llamadas</span><span class="sxs-lookup"><span data-stu-id="9f0e9-115">Call detail records</span></span>
- <span data-ttu-id="9f0e9-116">Datos de calidad de la experiencia</span><span class="sxs-lookup"><span data-stu-id="9f0e9-116">Quality of experience data</span></span>
- <span data-ttu-id="9f0e9-117">Registros del servidor web iis</span><span class="sxs-lookup"><span data-stu-id="9f0e9-117">IIS Web Server logs</span></span>
- <span data-ttu-id="9f0e9-118">SQL Server registros</span><span class="sxs-lookup"><span data-stu-id="9f0e9-118">SQL Server logs</span></span>
- <span data-ttu-id="9f0e9-119">Datos de Syslog</span><span class="sxs-lookup"><span data-stu-id="9f0e9-119">Syslog data</span></span>
- <span data-ttu-id="9f0e9-120">Registros de auditoría de seguridad</span><span class="sxs-lookup"><span data-stu-id="9f0e9-120">Security audit logs</span></span>

<span data-ttu-id="9f0e9-121">Antes de cargar datos en Cosmos, la aplicación ODL usa un servicio de depuración para ofuscar los campos que contienen datos de clientes, como información de inquilino e información identificable del usuario final, y reemplazar esos campos por un valor hash.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-121">Prior to uploading data into Cosmos, the ODL application uses a scrubbing service to obfuscate any fields that contain customer data, such as tenant information and end-user identifiable information, and replace those fields with a hash value.</span></span> <span data-ttu-id="9f0e9-122">Los registros anonimizados y hash se reescriben y, a continuación, se cargan en Cosmos.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-122">The anonymized and hashed logs are rewritten and then uploaded into Cosmos.</span></span> <span data-ttu-id="9f0e9-123">Los equipos de servicio ejecutan consultas con ámbito en sus datos en Cosmos para la correlación, alertas e informes.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-123">Service teams run scoped queries against their data in Cosmos for correlation, alerting, and reporting.</span></span> <span data-ttu-id="9f0e9-124">El período de retención de datos del registro de auditoría en Cosmos lo determinan los equipos de servicio; La mayoría de los datos del registro de auditoría se conservan durante 90 días o más para admitir investigaciones de incidentes de seguridad y cumplir con los requisitos de retención normativos.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-124">The period of audit log data retention in Cosmos is determined by the service teams; most audit log data is retained for 90 days or longer to support security incident investigations and to meet regulatory retention requirements.</span></span>

<span data-ttu-id="9f0e9-125">El acceso a los datos de Microsoft 365 almacenados en Cosmos está restringido al personal autorizado.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-125">Access to Microsoft 365 data stored in Cosmos is restricted to authorized personnel.</span></span> <span data-ttu-id="9f0e9-126">Microsoft restringe la administración de la funcionalidad de auditoría al subconjunto limitado de miembros del equipo de servicio que son responsables de la funcionalidad de auditoría.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-126">Microsoft restricts the management of audit functionality to the limited subset of service team members that are responsible for audit functionality.</span></span> <span data-ttu-id="9f0e9-127">Estos miembros del equipo no tienen la capacidad de modificar o eliminar datos de Cosmos y todos los cambios en los mecanismos de registro de Cosmos se registran y auditan.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-127">These team members do not have the ability to modify or delete data from Cosmos, and all changes to logging mechanisms for Cosmos are recorded and audited.</span></span>

<span data-ttu-id="9f0e9-128">Cada equipo de servicio tiene acceso a sus datos de registro para su análisis mediante la autorización de determinadas aplicaciones para realizar análisis específicos.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-128">Each service team accesses its log data for analysis by authorizing certain applications to conduct specific analysis.</span></span> <span data-ttu-id="9f0e9-129">Por ejemplo, el equipo de seguridad de Microsoft 365 usa datos de Cosmos a través de un analizador de registro de eventos propietario para correlacionar, alertar y generar informes prácticos sobre posibles actividades sospechosas en el entorno de producción de Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-129">For example, the Microsoft 365 Security team uses data from Cosmos through a proprietary event log parser to correlate, alert, and generate actionable reports on possible suspicious activity in the Microsoft 365 production environment.</span></span> <span data-ttu-id="9f0e9-130">Los informes de estos datos se usan para corregir vulnerabilidades y mejorar el rendimiento general del servicio.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-130">The reports from this data are used to correct vulnerabilities, and to improve the overall performance of the service.</span></span> <span data-ttu-id="9f0e9-131">Si una alerta o informe específico requiere una investigación adicional, el personal de servicio puede solicitar que los datos se vuelvan a importar al servicio de Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-131">If a specific alert or report requires further investigation, service personnel can request that data be imported back into the Microsoft 365 service.</span></span> <span data-ttu-id="9f0e9-132">Dado que el registro específico que se importa de Cosmos está cifrado y el personal de servicio no tiene acceso a claves de descifrado, el registro de destino se pasa mediante programación a través de un servicio de descifrado que devuelve resultados con ámbito al personal de servicio autorizado.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-132">Since the specific log being imported from Cosmos is in encrypted and service personnel do not have access to decryption keys, the target log is programmatically passed through a decryption service that returns scoped results to the authorized service personnel.</span></span> <span data-ttu-id="9f0e9-133">Las vulnerabilidades encontradas en este ejercicio se notifican y se escalan mediante los canales estándar de administración de incidentes de seguridad de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9f0e9-133">Any vulnerabilities found from this exercise are reported and escalated using Microsoft's standard security incident management channels.</span></span>
