---
title: Resistencia de datos de SharePoint y OneDrive en Microsoft 365
description: En este artículo se proporciona información general sobre la resistencia de datos de SharePoint y OneDrive en Microsoft 365.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
f1.keywords:
- NOCSH
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
titleSuffix: Microsoft Service Assurance
ms.openlocfilehash: c940b778681805a1e50a9e565117cd67deb52566
ms.sourcegitcommit: 2973d25e9e0185b84d281f963553a332eac1c1a3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 01/28/2021
ms.locfileid: "50040390"
---
# <a name="sharepoint-and-onedrive-data-resiliency-in-microsoft-365"></a><span data-ttu-id="38686-103">Resistencia de datos de SharePoint y OneDrive en Microsoft 365</span><span class="sxs-lookup"><span data-stu-id="38686-103">SharePoint and OneDrive data resiliency in Microsoft 365</span></span>

<span data-ttu-id="38686-104">Dentro de Microsoft 365, OneDrive se basa en la plataforma de archivos de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="38686-104">Within Microsoft 365, OneDrive is built on top of the SharePoint file platform.</span></span> <span data-ttu-id="38686-105">En este artículo, solo se usará SharePoint para hacer referencia a ambos productos.</span><span class="sxs-lookup"><span data-stu-id="38686-105">In this article, only SharePoint will be used to refer to both products.</span></span> <span data-ttu-id="38686-106">El contenido de este artículo es relevante para Microsoft 365 y no se aplica a los servicios al consumidor.</span><span class="sxs-lookup"><span data-stu-id="38686-106">The contents of this article are relevant to Microsoft 365 and do not apply to consumer services.</span></span>

<span data-ttu-id="38686-107">Hay dos activos principales que son el almacenamiento de contenido principal de SharePoint:</span><span class="sxs-lookup"><span data-stu-id="38686-107">There are two primary assets that make up the core content storage of SharePoint:</span></span>

- <span data-ttu-id="38686-108">**Metadatos:** los metadatos sobre cada archivo se almacenan en azure SQL base de datos.</span><span class="sxs-lookup"><span data-stu-id="38686-108">**Metadata**: Metadata about each file is stored in Azure SQL Database.</span></span> <span data-ttu-id="38686-109">Azure SQL ofrece una historia completa de continuidad empresarial que SharePoint usa y los detalles se tratan más adelante en este artículo.</span><span class="sxs-lookup"><span data-stu-id="38686-109">Azure SQL offers a complete business continuity story that SharePoint uses and details are covered later in this article.</span></span>
- <span data-ttu-id="38686-110">**Almacenamiento de blobs:** el contenido del usuario que se carga en SharePoint se almacena en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="38686-110">**Blob storage**: User content that is uploaded into SharePoint is stored in Azure Storage.</span></span> <span data-ttu-id="38686-111">SharePoint ha creado un plan de resistencia personalizado sobre Azure Storage para garantizar la duplicación casi en tiempo real del contenido de los usuarios y un sistema realmente activo/activo.</span><span class="sxs-lookup"><span data-stu-id="38686-111">SharePoint has built a custom resiliency plan on top of Azure Storage to ensure near real-time duplication of user content and a truly active/active system.</span></span>

<span data-ttu-id="38686-112">El conjunto completo de controles para garantizar la resistencia de datos se explica en secciones adicionales.</span><span class="sxs-lookup"><span data-stu-id="38686-112">The complete set of controls to ensure data resiliency is explained in further sections.</span></span>

## <a name="blob-storage-resilience"></a><span data-ttu-id="38686-113">Resistencia de almacenamiento de blobs</span><span class="sxs-lookup"><span data-stu-id="38686-113">Blob storage resilience</span></span>

<span data-ttu-id="38686-114">SharePoint tiene una solución personalizada para el almacenamiento de datos de clientes en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="38686-114">SharePoint has a custom-built solution for storage of customer data in Azure Storage.</span></span> <span data-ttu-id="38686-115">Cada archivo se escribe simultáneamente en una región de centro de datos principal y secundario.</span><span class="sxs-lookup"><span data-stu-id="38686-115">Every file is simultaneously written into both a primary and a secondary datacenter region.</span></span> <span data-ttu-id="38686-116">Si se producirá un error en las escrituras en cualquiera de las regiones de Azure, se producirá un error al guardar el archivo.</span><span class="sxs-lookup"><span data-stu-id="38686-116">If writes to either Azure region fail, the file save will fail.</span></span> <span data-ttu-id="38686-117">Después de escribir el contenido en Azure Storage, las sumas de comprobación se almacenan por separado con metadatos y se usan para garantizar que la escritura confirmada sea idéntica al archivo original enviado a SharePoint durante todas las lecturas futuras.</span><span class="sxs-lookup"><span data-stu-id="38686-117">After the contents are written into Azure Storage, checksums are stored separately with metadata, and are used to ensure that the committed write is identical to the original file sent to SharePoint during all future reads.</span></span> <span data-ttu-id="38686-118">Esta misma técnica se usa en todos los flujos de trabajo para evitar la propagación de los daños que deberían producirse.</span><span class="sxs-lookup"><span data-stu-id="38686-118">This same technique is used in all workflows to prevent propagation of any corruption that should occur.</span></span> <span data-ttu-id="38686-119">Dentro de cada región, Azure Locally Redundant Storage (LRS) proporciona un alto nivel de confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="38686-119">Within each region, Azure Locally Redundant Storage (LRS) provides a high level of reliability.</span></span> <span data-ttu-id="38686-120">Consulte el [artículo de redundancia de Azure Storage](https://docs.microsoft.com/azure/storage/common/storage-redundancy-lrs) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="38686-120">See the [Azure Storage redundancy](https://docs.microsoft.com/azure/storage/common/storage-redundancy-lrs) article for details.</span></span>

<span data-ttu-id="38686-121">SharePoint usa Append-Only almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="38686-121">SharePoint uses Append-Only storage.</span></span> <span data-ttu-id="38686-122">Este proceso garantiza que los archivos no se puedan cambiar ni dañar después de un guardado inicial, pero también mediante el control de versiones del producto, se puede recuperar cualquier versión anterior del contenido del archivo.</span><span class="sxs-lookup"><span data-stu-id="38686-122">This process ensures that files cannot be changed or corrupted after an initial save, but also by using in-product versioning, any previous version of the file contents can be retrieved.</span></span>

<span data-ttu-id="38686-123">Los entornos de SharePoint en cualquiera de los centros de datos pueden tener acceso a contenedores de almacenamiento en ambas regiones de Azure.</span><span class="sxs-lookup"><span data-stu-id="38686-123">SharePoint environments in either datacenter can access storage containers in both Azure regions.</span></span> <span data-ttu-id="38686-124">Por motivos de rendimiento, siempre se prefiere el contenedor de almacenamiento en el mismo centro de datos local, pero las solicitudes de lectura que no ven resultados dentro del umbral deseado tendrán el mismo contenido solicitado desde el centro de datos remoto para garantizar que los datos estén siempre disponibles.</span><span class="sxs-lookup"><span data-stu-id="38686-124">For performance reasons the storage container in the same local datacenter is always preferred, however, read requests that do not see results within a desired threshold will have the same content requested from the remote datacenter to ensure data is always available.</span></span>

## <a name="metadata-resilience"></a><span data-ttu-id="38686-125">Resistencia de metadatos</span><span class="sxs-lookup"><span data-stu-id="38686-125">Metadata resilience</span></span>

<span data-ttu-id="38686-126">Los metadatos de SharePoint también son fundamentales para obtener acceso al contenido del usuario, ya que almacenan la ubicación y las claves de acceso al contenido almacenado en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="38686-126">SharePoint metadata is also critical to accessing user content as it stores the location of and access keys to the content stored in Azure Storage.</span></span> <span data-ttu-id="38686-127">Estas bases de datos se almacenan en Azure SQL, que tiene un amplio [plan de continuidad empresarial.](https://docs.microsoft.com/azure/sql-database/sql-database-business-continuity)</span><span class="sxs-lookup"><span data-stu-id="38686-127">These databases are stored in Azure SQL, which has an extensive [business continuity plan](https://docs.microsoft.com/azure/sql-database/sql-database-business-continuity).</span></span>

<span data-ttu-id="38686-128">SharePoint usa el modelo de replicación proporcionado por Azure SQL y ha creado una tecnología de automatización propietaria para determinar que se requiere una conmutación por error e iniciar la operación si es necesario.</span><span class="sxs-lookup"><span data-stu-id="38686-128">SharePoint uses the replication model provided by Azure SQL and has built a proprietary automation technology to determine a failover is required and to initiate the operation if necessary.</span></span> <span data-ttu-id="38686-129">Por lo tanto, entra en la categoría "Conmutación por error manual de la base de datos" desde una perspectiva SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="38686-129">As such, it falls into the 'Manual database failover' category from an Azure SQL perspective.</span></span> <span data-ttu-id="38686-130">Las métricas más recientes para la recuperación SQL base de datos de Azure están disponibles [aquí.](https://docs.microsoft.com/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server)</span><span class="sxs-lookup"><span data-stu-id="38686-130">The latest metrics for Azure SQL database recoverability are available [here](https://docs.microsoft.com/azure/azure-sql/database/business-continuity-high-availability-disaster-recover-hadr-overview#recover-a-database-to-the-existing-server).</span></span>

<span data-ttu-id="38686-131">SharePoint usa el sistema de copia de SQL de Azure para habilitar las restauraciones de punto en tiempo (PITR) durante un máximo de 14 días.</span><span class="sxs-lookup"><span data-stu-id="38686-131">SharePoint uses Azure SQL's backup system to enable Point in Time Restores (PITR) for up to 14 days.</span></span> <span data-ttu-id="38686-132">PITR se trata más adelante [en una sección.](#deletion-backup-and-point-in-time-restore)</span><span class="sxs-lookup"><span data-stu-id="38686-132">PITR is covered more in a [later section.](#deletion-backup-and-point-in-time-restore)</span></span>

## <a name="automated-failover"></a><span data-ttu-id="38686-133">Conmutación por error automatizada</span><span class="sxs-lookup"><span data-stu-id="38686-133">Automated failover</span></span>

<span data-ttu-id="38686-134">SharePoint usa una conmutación por error automatizada integrada personalizada para minimizar el impacto en la experiencia del cliente cuando se produce un evento específico de la ubicación.</span><span class="sxs-lookup"><span data-stu-id="38686-134">SharePoint uses a custom-built automated failover to minimize the impact on customer experience when a location-specific event occurs.</span></span> <span data-ttu-id="38686-135">La automatización controlada por supervisión que detecta un error de uno o varios componentes más allá de determinados umbrales hará que la actividad de todos los usuarios salga del entorno problemático y se desenlace a un segundo nivel.</span><span class="sxs-lookup"><span data-stu-id="38686-135">Monitoring-driven automation detecting a single or multi-component failure beyond certain thresholds will result in automated redirection of all users' activity out of the problematic environment and over to a warm secondary.</span></span> <span data-ttu-id="38686-136">Una conmutación por error da como resultado que los metadatos y el almacenamiento de cálculo se atendidas completamente fuera del nuevo centro de datos.</span><span class="sxs-lookup"><span data-stu-id="38686-136">A failover results in metadata and compute storage being served entirely out of the new datacenter.</span></span> <span data-ttu-id="38686-137">Como el almacenamiento de blobs siempre se ejecuta completamente activo/activo, no se requiere ningún cambio para una conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="38686-137">As blob storage always runs entirely active/active, no change is required for a failover.</span></span> <span data-ttu-id="38686-138">El nivel de proceso prefiere el contenedor de blobs más cercano, pero usará las ubicaciones locales y remotas de almacenamiento de blobs en cualquier momento para garantizar la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="38686-138">The compute tier will prefer the nearest blob container but will use both local and remote blob storage locations at any time to ensure availability.</span></span>

<span data-ttu-id="38686-139">SharePoint usa el servicio front-door de Azure para proporcionar enrutamiento interno a la red de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="38686-139">SharePoint uses the Azure Front Door service to provide routing internal to the Microsoft network.</span></span> <span data-ttu-id="38686-140">Esta configuración permite el redireccionamiento de conmutación por error independiente de DNS y reduce el efecto del almacenamiento en caché del equipo local.</span><span class="sxs-lookup"><span data-stu-id="38686-140">This configuration allows failover redirection independent of DNS and reduces the effect of local-machine caching.</span></span> <span data-ttu-id="38686-141">La mayoría de las operaciones de conmutación por error son transparentes para los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="38686-141">Most failover operations are transparent to end users.</span></span> <span data-ttu-id="38686-142">Si hay una conmutación por error, los clientes no tendrán que realizar cambios para mantener el acceso al servicio.</span><span class="sxs-lookup"><span data-stu-id="38686-142">If there is a failover, customers will not need to make any changes in order to maintain access to the service.</span></span>

## <a name="versioning-and-files-restore"></a><span data-ttu-id="38686-143">Control de versiones y restauración de archivos</span><span class="sxs-lookup"><span data-stu-id="38686-143">Versioning and Files Restore</span></span>

<span data-ttu-id="38686-144">Para las bibliotecas de documentos recién creadas, SharePoint tiene un valor predeterminado de 500 versiones en cada archivo y se puede configurar para conservar más versiones si lo desea.</span><span class="sxs-lookup"><span data-stu-id="38686-144">For newly created document libraries, SharePoint defaults to 500 versions on every file and can be configured to retain more versions if desired.</span></span> <span data-ttu-id="38686-145">La interfaz de usuario no permite establecer un valor inferior a 100 versiones, pero es posible establecer el sistema para almacenar menos versiones mediante API públicas.</span><span class="sxs-lookup"><span data-stu-id="38686-145">The UI doesn't allow a value fewer than 100 versions to be set, but it is possible to set the system to store fewer versions using public APIs.</span></span> <span data-ttu-id="38686-146">Por motivos de confiabilidad, no se recomienda cualquier valor inferior a 100 y puede provocar que la actividad del usuario cause una pérdida de datos involuntaria.</span><span class="sxs-lookup"><span data-stu-id="38686-146">For reliability, any value less than 100 isn't recommended and can result in user activity causing inadvertent data loss.</span></span>

<span data-ttu-id="38686-147">Para obtener más información acerca del control de versiones, vea [Control de versiones en SharePoint.](https://docs.microsoft.com/microsoft-365/community/versioning-basics-best-practices)</span><span class="sxs-lookup"><span data-stu-id="38686-147">For more information about versioning, see [Versioning in SharePoint](https://docs.microsoft.com/microsoft-365/community/versioning-basics-best-practices).</span></span>

<span data-ttu-id="38686-148">La restauración de archivos es la capacidad de volver "atrás en el tiempo" en cualquier biblioteca de documentos de SharePoint a cualquier segundo de tiempo en los últimos 30 días.</span><span class="sxs-lookup"><span data-stu-id="38686-148">Files Restore is the ability to go 'back in time' on any Document Library in SharePoint to any second of time in the last 30 days.</span></span> <span data-ttu-id="38686-149">Este proceso se puede usar para recuperarse de ransomware, eliminaciones masivas, daños o cualquier otro evento.</span><span class="sxs-lookup"><span data-stu-id="38686-149">This process can be used to recover from ransomware, mass deletions, corruption, or any other event.</span></span> <span data-ttu-id="38686-150">Esta característica usa versiones de archivo, por lo que reducir las versiones predeterminadas puede reducir la eficacia de esta restauración.</span><span class="sxs-lookup"><span data-stu-id="38686-150">This feature uses file versions so reducing default versions can reduce the effectiveness of this restore.</span></span>

<span data-ttu-id="38686-151">La característica de restauración de archivos está documentada para [OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) y [SharePoint.](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a)</span><span class="sxs-lookup"><span data-stu-id="38686-151">The Files Restore feature is documented for both [OneDrive](https://support.office.com/article/restore-your-onedrive-fa231298-759d-41cf-bcd0-25ac53eb8a15) and [SharePoint](https://support.office.com/article/Restore-a-document-library-317791c3-8bd0-4dfd-8254-3ca90883d39a).</span></span>

## <a name="deletion-backup-and-point-in-time-restore"></a><span data-ttu-id="38686-152">Eliminación, copia de seguridad y restauración de punto en tiempo</span><span class="sxs-lookup"><span data-stu-id="38686-152">Deletion, backup, and Point in Time Restore</span></span>

<span data-ttu-id="38686-153">El contenido de usuario eliminado de SharePoint pasa por el siguiente flujo de eliminación.</span><span class="sxs-lookup"><span data-stu-id="38686-153">User content deleted from SharePoint goes through the following deletion flow.</span></span>

<span data-ttu-id="38686-154">Los elementos eliminados se conservan en las papeleras de reciclaje durante un período de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="38686-154">Deleted items are retained in recycle bins for a certain period of time.</span></span> <span data-ttu-id="38686-155">Para SharePoint, el tiempo de retención es de 93 días.</span><span class="sxs-lookup"><span data-stu-id="38686-155">For SharePoint, the retention time is 93 days.</span></span> <span data-ttu-id="38686-156">Comienza cuando se elimina el elemento de su ubicación original.</span><span class="sxs-lookup"><span data-stu-id="38686-156">It begins when you delete the item from its original location.</span></span> <span data-ttu-id="38686-157">Cuando se elimina el elemento de la papelera de reciclaje del sitio, éste se incluye en la papelera de reciclaje [de la colección de sitios.](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="38686-157">When you delete the item from the site recycle bin, it goes into the [site collection recycle bin](https://support.office.com/article/restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span> <span data-ttu-id="38686-158">Permanece allí durante el resto de los 93 días y, a continuación, se elimina permanentemente.</span><span class="sxs-lookup"><span data-stu-id="38686-158">It stays there for the remainder of the 93 days, and then is permanently deleted.</span></span> <span data-ttu-id="38686-159">Encontrará más información sobre cómo usar la papelera de reciclaje en estos vínculos:</span><span class="sxs-lookup"><span data-stu-id="38686-159">More information about how to use the recycle bin is available at these links:</span></span>

- [<span data-ttu-id="38686-160">Restaurar elementos de la papelera de reciclaje</span><span class="sxs-lookup"><span data-stu-id="38686-160">Restore items in the Recycle Bin</span></span>](https://support.office.com/article/Restore-items-in-the-Recycle-Bin-of-a-SharePoint-site-6df466b6-55f2-4898-8d6e-c0dff851a0be)
- <span data-ttu-id="38686-161">[Restaure los elementos eliminados de la papelera de reciclaje de la colección de sitios.](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b)</span><span class="sxs-lookup"><span data-stu-id="38686-161">[Restore deleted items from the Site Collection Recycle Bin](https://support.office.com/article/Restore-deleted-items-from-the-site-collection-recycle-bin-5fa924ee-16d7-487b-9a0a-021b9062d14b).</span></span>

<span data-ttu-id="38686-162">Este proceso es el flujo de eliminación predeterminado y no tiene en cuenta las directivas o etiquetas de retención.</span><span class="sxs-lookup"><span data-stu-id="38686-162">This process is the default deletion flow and does not take into account retention policies or labels.</span></span> <span data-ttu-id="38686-163">Para obtener más información, vea [Más información sobre la retención para SharePoint y OneDrive.](https://docs.microsoft.com/microsoft-365/compliance/retention-policies-sharepoint)</span><span class="sxs-lookup"><span data-stu-id="38686-163">For more information, see [Learn about retention for SharePoint and OneDrive](https://docs.microsoft.com/microsoft-365/compliance/retention-policies-sharepoint).</span></span>

<span data-ttu-id="38686-164">Una vez completada la canalización de reciclaje de 93 días, la eliminación se realiza de forma independiente para metadatos y almacenamiento de blobs.</span><span class="sxs-lookup"><span data-stu-id="38686-164">After the 93-day recycle pipeline is complete, deletion takes place independently for Metadata and for Blob Storage.</span></span> <span data-ttu-id="38686-165">Los metadatos se quitarán inmediatamente de la base de datos, lo que hace que el contenido sea ilegible a menos que los metadatos se restauren a partir de la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="38686-165">Metadata will be removed immediately from the database, which makes the content unreadable unless the metadata is restored from backup.</span></span> <span data-ttu-id="38686-166">SharePoint mantiene copias de seguridad de metadatos durante 14 días.</span><span class="sxs-lookup"><span data-stu-id="38686-166">SharePoint maintains 14 days-worth of backups of metadata.</span></span> <span data-ttu-id="38686-167">Estas copias de seguridad se toman localmente casi en tiempo real [](https://docs.microsoft.com/azure/sql-database/sql-database-automated-backups) y, a continuación, se insertan en el almacenamiento en contenedores redundantes de Azure Storage, según la documentación en el momento de esta publicación, una programación de 5 a 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="38686-167">These backups are taken locally in near real time and then pushed to storage in redundant Azure Storage containers on, [according to documentation](https://docs.microsoft.com/azure/sql-database/sql-database-automated-backups) at the time of this publication, a 5-10-minute schedule.</span></span>

<span data-ttu-id="38686-168">Al eliminar el contenido de Blob Storage, SharePoint usa la característica de eliminación de software de Azure Blob Storage para protegerse contra la eliminación accidental o malintencionada.</span><span class="sxs-lookup"><span data-stu-id="38686-168">When deleting Blob Storage content, SharePoint utilizes the soft delete feature for Azure Blob Storage to protect against accidental or malicious deletion.</span></span> <span data-ttu-id="38686-169">Con esta característica, tenemos un total de 14 días para restaurar el contenido antes de que se elimine de forma permanente.</span><span class="sxs-lookup"><span data-stu-id="38686-169">Using this feature, we have a total of 14 days in which to restore content before it is permanently deleted.</span></span>

>[!Note]
><span data-ttu-id="38686-170">Aunque las aplicaciones microsoft enviarán contenido a la papelera de reciclaje para el proceso estándar, SharePoint proporciona API que permiten omitir la papelera de reciclaje y forzar una eliminación inmediata.</span><span class="sxs-lookup"><span data-stu-id="38686-170">While Microsoft applications will send content to the recycle bin for the standard process, SharePoint does provide APIs that allow for skipping the recycle bin and forcing an immediate delete.</span></span> <span data-ttu-id="38686-171">Revise las aplicaciones para asegurarse de que esto solo se realiza cuando sea necesario por motivos de cumplimiento.</span><span class="sxs-lookup"><span data-stu-id="38686-171">Review your applications to ensure this is only done when necessary for compliance reasons.</span></span>

## <a name="integrity-checks"></a><span data-ttu-id="38686-172">Comprobaciones de integridad</span><span class="sxs-lookup"><span data-stu-id="38686-172">Integrity Checks</span></span>

<span data-ttu-id="38686-173">SharePoint usa varios métodos para garantizar la integridad de blobs y metadatos en todas las etapas del ciclo de vida de los datos:</span><span class="sxs-lookup"><span data-stu-id="38686-173">SharePoint uses various methods to ensure the integrity of blobs and metadata at all stages of the data lifecycle:</span></span>

- <span data-ttu-id="38686-174">**Hash de archivo almacenado en metadatos:** el hash de todo el archivo se almacena con metadatos de archivo para garantizar que la integridad de los datos del nivel del documento se mantiene durante todas las operaciones.</span><span class="sxs-lookup"><span data-stu-id="38686-174">**File hash stored in metadata**: Hash of the entire file is stored with file metadata to ensure document level data integrity is maintained during all operations</span></span>
- <span data-ttu-id="38686-175">**Hash de blob almacenado en metadatos:** cada elemento blob almacena un hash del contenido cifrado para protegerse contra daños en el almacenamiento de Azure subyacente.</span><span class="sxs-lookup"><span data-stu-id="38686-175">**Blob hash stored in metadata**: Each blob-item stores a hash of the encrypted content to protect against corruption in underlying Azure storage.</span></span>
- <span data-ttu-id="38686-176">**Trabajo de** integridad de datos: cada 14 días, cada sitio se examina para buscar integridad mediante la lista de elementos de la base de datos y la coincidencia con los blobs enumerados en Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="38686-176">**Data integrity job**: Every 14 days, each site is scanned for integrity by listing items in the database and matching those up with listed blobs in Azure storage.</span></span> <span data-ttu-id="38686-177">El trabajo notifica los blobs que faltan en las referencias a blobs y puede recuperar esos blobs a través de la característica de eliminación de forma flexible de [Azure Storage](https://docs.microsoft.com/azure/storage/blobs/soft-delete-blob-overview) si es necesario.</span><span class="sxs-lookup"><span data-stu-id="38686-177">The job reports any blob-references missing storage-blobs and can retrieve those blobs through the [Azure storage soft-delete](https://docs.microsoft.com/azure/storage/blobs/soft-delete-blob-overview) feature if needed.</span></span>
